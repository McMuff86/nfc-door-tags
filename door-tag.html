<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>T√ºrdatenblatt</title>
<style>
  :root {
    --bg: #0a0a0a;
    --card: #18181b;
    --border: #27272a;
    --text: #fafafa;
    --muted: #a1a1aa;
    --accent: #22d3ee;
    --red: #ef4444;
    --orange: #f97316;
    --green: #22c55e;
    --yellow: #eab308;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, 'Inter', 'Segoe UI', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: 16px;
  }
  .header {
    text-align: center;
    padding: 20px 0 12px;
  }
  .header .icon {
    font-size: 48px;
    margin-bottom: 8px;
  }
  .header h1 {
    font-size: 20px;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  .header .subtitle {
    color: var(--muted);
    font-size: 13px;
    margin-top: 4px;
  }
  .badge-row {
    display: flex;
    gap: 8px;
    justify-content: center;
    flex-wrap: wrap;
    margin: 16px 0;
  }
  .badge {
    padding: 4px 12px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  .badge.fire {
    background: rgba(239,68,68,0.15);
    color: var(--red);
    border: 1px solid rgba(239,68,68,0.3);
  }
  .badge.type {
    background: rgba(34,211,238,0.15);
    color: var(--accent);
    border: 1px solid rgba(34,211,238,0.3);
  }
  .badge.status-ok {
    background: rgba(34,197,94,0.15);
    color: var(--green);
    border: 1px solid rgba(34,197,94,0.3);
  }
  .badge.status-warn {
    background: rgba(249,115,22,0.15);
    color: var(--orange);
    border: 1px solid rgba(249,115,22,0.3);
  }
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
  }
  .card-title {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--muted);
    margin-bottom: 12px;
  }
  .row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
  }
  .row:last-child { border-bottom: none; }
  .row .label {
    color: var(--muted);
    font-size: 13px;
  }
  .row .value {
    font-size: 14px;
    font-weight: 600;
    text-align: right;
  }
  .highlight {
    color: var(--accent);
  }
  .fire-info {
    background: rgba(239,68,68,0.08);
    border: 1px solid rgba(239,68,68,0.2);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
  }
  .fire-info .card-title {
    color: var(--red);
  }
  .dim-box {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 20px;
    margin: 8px 0;
  }
  .dim-visual {
    width: 60px;
    height: 100px;
    border: 2px solid var(--accent);
    border-radius: 4px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .dim-visual .knob {
    width: 6px;
    height: 6px;
    background: var(--accent);
    border-radius: 50%;
    position: absolute;
    right: 4px;
    top: 50%;
  }
  .dim-labels {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }
  .dim-labels span {
    font-size: 22px;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  .dim-labels small {
    color: var(--muted);
    font-size: 11px;
  }
  .qr-section {
    text-align: center;
    padding: 12px 0;
    color: var(--muted);
    font-size: 11px;
  }
  .footer {
    text-align: center;
    padding: 16px 0;
    color: var(--muted);
    font-size: 11px;
  }
  .footer a {
    color: var(--accent);
    text-decoration: none;
  }
  .notes-box {
    background: rgba(234,179,8,0.08);
    border: 1px solid rgba(234,179,8,0.2);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 12px;
  }
  .notes-box .card-title {
    color: var(--yellow);
  }
  .notes-text {
    font-size: 13px;
    line-height: 1.5;
    color: var(--text);
  }
</style>
</head>
<body>

<div class="header">
  <div class="icon">üö™</div>
  <h1 id="doorId">‚Äî</h1>
  <div class="subtitle" id="location">‚Äî</div>
</div>

<div class="badge-row" id="badges"></div>

<div class="card">
  <div class="card-title">üìê Masse</div>
  <div class="dim-box">
    <div class="dim-visual">
      <div class="knob"></div>
    </div>
    <div class="dim-labels">
      <span id="dimDisplay">‚Äî √ó ‚Äî</span>
      <small>Lichtmass (B √ó H mm)</small>
    </div>
  </div>
  <div class="row">
    <span class="label">Wandst√§rke</span>
    <span class="value" id="wallThick">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Bandseite</span>
    <span class="value" id="hinge">‚Äî</span>
  </div>
</div>

<div class="fire-info" id="fireCard" style="display:none">
  <div class="card-title">üî• Brandschutz</div>
  <div class="row">
    <span class="label">Klassierung</span>
    <span class="value highlight" id="fireRating">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">VKF-Nummer</span>
    <span class="value" id="vkf">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Pr√ºfbericht</span>
    <span class="value" id="testReport">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">N√§chste Kontrolle</span>
    <span class="value" id="nextInspection">‚Äî</span>
  </div>
</div>

<div class="card">
  <div class="card-title">üîß Ausstattung</div>
  <div class="row">
    <span class="label">T√ºrtyp</span>
    <span class="value" id="doorType">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Material</span>
    <span class="value" id="material">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Oberfl√§che</span>
    <span class="value" id="surface">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Schloss</span>
    <span class="value" id="lock">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Dr√ºcker</span>
    <span class="value" id="handle">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Zarge</span>
    <span class="value" id="frame">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Schwelle</span>
    <span class="value" id="threshold">‚Äî</span>
  </div>
</div>

<div class="card">
  <div class="card-title">üìã Projekt</div>
  <div class="row">
    <span class="label">Projekt</span>
    <span class="value" id="project">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Geb√§ude</span>
    <span class="value" id="building">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Geschoss</span>
    <span class="value" id="floor">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Raum</span>
    <span class="value" id="room">‚Äî</span>
  </div>
  <div class="row">
    <span class="label">Auftrag</span>
    <span class="value" id="order">‚Äî</span>
  </div>
</div>

<div class="notes-box" id="notesCard" style="display:none">
  <div class="card-title">‚ö†Ô∏è Hinweise</div>
  <div class="notes-text" id="notes"></div>
</div>

<div class="footer">
  Scan-Datum: <span id="scanDate">‚Äî</span><br>
  Powered by <a href="#">IFCraft</a> √ó Bucher AG
</div>

<script>
// Parse URL params
const p = new URLSearchParams(window.location.search);

// Helper
const set = (id, val) => {
  if (val) document.getElementById(id).textContent = val;
};

// Door ID & Location
set('doorId', p.get('id') || 'T√ºr #???');
set('location', [p.get('building'), p.get('floor'), p.get('room')].filter(Boolean).join(' ‚Ä∫ ') || '');

// Dimensions
const b = p.get('b'), h = p.get('h');
if (b && h) {
  document.getElementById('dimDisplay').textContent = `${b} √ó ${h}`;
  // Scale visual
  const vis = document.querySelector('.dim-visual');
  const ratio = parseInt(b) / parseInt(h);
  vis.style.width = Math.round(100 * ratio) + 'px';
}

set('wallThick', p.get('wall') ? p.get('wall') + ' mm' : null);
set('hinge', p.get('hinge'));

// Fire rating
const fire = p.get('fire');
if (fire) {
  document.getElementById('fireCard').style.display = 'block';
  set('fireRating', fire);
  set('vkf', p.get('vkf'));
  set('testReport', p.get('report'));
  set('nextInspection', p.get('inspect'));
}

// Badges
const badgeRow = document.getElementById('badges');
if (fire) {
  badgeRow.innerHTML += `<span class="badge fire">üî• ${fire}</span>`;
}
const dtype = p.get('dtype');
if (dtype) {
  badgeRow.innerHTML += `<span class="badge type">${dtype}</span>`;
}
const status = p.get('status') || 'OK';
const statusClass = status === 'OK' ? 'status-ok' : 'status-warn';
badgeRow.innerHTML += `<span class="badge ${statusClass}">${status}</span>`;

// Equipment
set('doorType', p.get('dtype'));
set('material', p.get('mat'));
set('surface', p.get('surf'));
set('lock', p.get('lock'));
set('handle', p.get('handle'));
set('frame', p.get('frame'));
set('threshold', p.get('thresh'));

// Project
set('project', p.get('project'));
set('building', p.get('building'));
set('floor', p.get('floor'));
set('room', p.get('room'));
set('order', p.get('order'));

// Notes
const notes = p.get('notes');
if (notes) {
  document.getElementById('notesCard').style.display = 'block';
  document.getElementById('notes').textContent = decodeURIComponent(notes);
}

// Scan date
document.getElementById('scanDate').textContent = new Date().toLocaleDateString('de-CH', {
  day: '2-digit', month: '2-digit', year: 'numeric',
  hour: '2-digit', minute: '2-digit'
});
</script>
</body>
</html>
